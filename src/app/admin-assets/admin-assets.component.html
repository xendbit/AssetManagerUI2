
<div class="mm-page mm-slideout" style="background-color: white; ">
    <ngx-spinner></ngx-spinner>
    <app-navbar></app-navbar>
  
    <div id="container_home">
  
        <div class="container-fluid container-lg container-home" style="min-height: 100vh; height: 100%;">
          
          <h2 class="text-uppercase font-weight-light">
              All available Artworks
          </h2>
          <div class="row" style="margin-top: 3rem; font-family: 'Inter', serif;">
            
            <div class="table-responsive">
                <table class="table table-hover" >
                  <thead class="text-warning">
                      <th>Asset </th>
                      <th> Name  </th>
                      <th> Title  </th>
                      <th>Total </th>
                      <th>Price</th>
                      <th> Available </th>
                      <th>Price</th>
                      <th> Symbol</th>
                      <th> Delete </th>
                      <th> List </th>
                  </thead>
                  <tbody *ngFor="let item of this.assets">
                      <tr class="Table">
                          <td style="width: 6rem; height: 4rem;"> <img src="{{item.imageUrl}}" style="width: 6rem; height: 4rem;">   </td>
                          <td>{{item.artistName}}</td>
                          <td> {{item.titleOfWork}} </td>
                          <td> {{item.totalSupply}} </td>
                          <td> {{item.price }} </td>
                          <td>  {{item.sharesAvailable}}</td>
                          <td> {{item.issuingPrice}} </td>
                          <td> {{item.symbol}} </td>
                          <td *ngIf="item.market === 0 && item.approved === 1 || item.market === 1 && item.approved ===1">
                            <button (click)="delete(item.tokenId, false)" type="submit" class="btn btn-dark px-3 px-sm-5 py-2 py-md-3 small font-weight-medium text-nowrap" style="background-color: red; border-color: transparent;">
                
                                Delete
                            
                            </button>
                        </td>
                        <td *ngIf="item.market === 2 && item.approved === 1 ">
                            <button (click)="delete(item.tokenId, false)" type="submit" disabled class="btn btn-dark px-3 px-sm-5 py-2 py-md-3 small font-weight-medium text-nowrap" style="background-color: red; border-color: transparent;">
                
                                Delete
                            
                            </button>
                        </td>
                        <td *ngIf="item.market === 0 && item.approved === 1">
                            <button (click)="checkShares(item.tokenId)" data-toggle="modal" data-target="#buyModalLong"  class="btn btn-dark px-3 px-sm-5 py-2 py-md-3 small font-weight-medium text-nowrap" style="background-color: green; border-color: transparent;">
                
                                list asset
                            
                            </button>
                        </td>
                        <td *ngIf="item.market === 1 && item.approved === 1">
                            <button  data-toggle="modal" data-target="#buyModalLong"  disabled class="btn btn-dark px-3 px-sm-5 py-2 py-md-3 small font-weight-medium text-nowrap" style="background-color: green; border-color: transparent;" >
                
                                list asset
                            
                            </button>
                        </td>
                        <td *ngIf="item.market === 2 && item.approved === 1">
                            <button data-toggle="modal" data-target="#buyModalLong" disabled class="btn btn-dark px-3 px-sm-5 py-2 py-md-3 small font-weight-medium text-nowrap" style="background-color: green; border-color: transparent;">
                
                                list asset
                            
                            </button>
                        </td>
                      </tr>
                  </tbody>
                </table>

                <div  class="modal fade" id="buyModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true" *ngIf="this.sharesRemaining">
                    <div class="modal-dialog" role="document">
                      <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel" style="text-align: center !important;">Warning!</h5>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">
                            <div>
                                <div class="row">
                                    <p style="margin-left: 20%; margin-right: 29%;"> 
                                      Please confirm that you intend to list this asset on the secondary market even with {{this.remainingShares}} shares still left to be bought on the primary market?
                                    </p> 
                                </div>
                                
                                
                            </div>
                          
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-dismiss="modal" style="margin-right: 50%; background-color: red; border-color: transparent;">Cancel</button>
                          <button (click)="changeMarket()"  type="submit" class="btn btn-primary" style="background-color: green; border-color: transparent;">Confirm</button>
                        </div>
                      </div>
                    </div>
                  </div>
                        
            </div>
          </div>
  
        </div>
  
        <!-- <div class="container-fluid container-lg container-home">
                
            <p class="text-uppercase small font-weight-medium">
                other Assets
            </p>
            <h2 class="text-uppercase font-weight-light">
            Other Artworks on the primary market
            </h2>
            <div class="d-flex flex-row flex-nowrap" style=" padding-bottom: 15px; overflow-x: scroll; margin-top: 3rem;">
                <mat-card (click)="view(item.tokenId, 'buyPage')" class="col-3 col-md-3 cover trend" *ngFor="let item of this.primaryMarket  let i=index" style="margin-left: 10px !important; margin-bottom: 5px;">
                    <mat-card-content  style="position: relative; ">
                        <img src="{{item.imageUrl}}" class="image">
                        <p class="paragraph" style="font-family: 'Playfair Display SC', serif;">
                        <b> Price: </b> ${{item.price}}
                        </p>
                        <p class="paragraph" style="font-family: 'Playfair Display SC', serif;">
                        <b> Artwork Title: </b> {{item.titleOfWork}}
                        </p>
                        
                        
                    </mat-card-content>
                </mat-card>
            </div>
  
        </div> -->
  
  
  
  
  
        
  
    </div>
    
    <app-footer></app-footer>
        
  
  </div>

